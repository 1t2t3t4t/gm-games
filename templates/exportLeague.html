<h1>Export League</h1>

<p>Here you can export your entire league data to a single League File. A League File can serve many purposes. You can use it as a <b>backup</b>, to <b>copy a league from one computer to another</b>, or to use as the base for a <b>custom roster file</b> to share with others. Select as much or as little information as you want to export, since any missing information will be filled in with default values when it is used. <a href="http://basketball-gm.com/manual/customization/">Read the manual for more info.</a></p>

<form class="" method="POST" data-bind="attrLeagueUrl: {action: ['export_league']}">
  <!-- ko foreach: categories -->
    <div class="checkbox">
      <label>
        <input type="checkbox" name="objectStores[]" data-bind="value: objectStores, checked: checked"> <span data-bind="text: name"></span>
        <p class="help-block" data-bind="html: desc"></p>
      </label>
    </div>
  <!-- /ko -->
  <button type="submit" class="btn btn-default" id="create-new-league">Export League</button>
</form>

<p style="margin-top: 1em" data-bind="visible: generating">Generating...</p>

<div class="row" data-bind="visible: generated">
  <div class="col-sm-6">
    <h2>Download</h2>

    <p>Save your league to a file on your computer:</p>

    <p><a class="btn btn-primary" data-bind="attr: {download: fileName, href: url}" data-no-davis="true">Download File</a></p>
  </div>
  <div class="col-sm-6">
    <h2>Google Drive</h2>

    <p>Save your league to the cloud on Google Drive:</p>

    <p>
      <button id="authorize" class="btn btn-primary" data-bind="visible: !authorized()" data-no-davis="true">Authorize</button>
      <button id="save" class="btn btn-primary" data-bind="visible: authorized, disable: gdSaving" data-no-davis="true">Save to Google Drive</button>
    </p>

    <p data-bind="visible: gdSaving">Saving... (could take a while depending on your league size and your connection)</p>
    <p data-bind="visible: gdSaved">Complete!</p>
  </div>
</div>

<p style="margin-top: 1em" data-bind="visible: expired">Download link expired. Please export again.</p>